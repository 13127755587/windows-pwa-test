(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(16),o=t.n(r),c=(t(77),t(25)),m=(t(78),t(19)),i=t(20),s=t(23),u=t(21),d=t(24),E=t(11),p=t(131),f=t(130),h=t(122),y=t(123),v=t(128),w=t(129),b=t(8),g=Object(b.a)({forceRefresh:!0}),_=t(30),C=t.n(_),O="https://windows-pwa-express.azurewebsites.net/api/users";function j(){var e=Object(n.useState)(!1),a=Object(E.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(""),c=Object(E.a)(o,2),m=c[0],i=c[1],s=Object(n.useState)(""),u=Object(E.a)(s,2),d=u[0],b=u[1];return l.a.createElement("div",null,l.a.createElement(p.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},l.a.createElement(p.a.Brand,{href:"#home"},"Express React MongoDB"),l.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(f.a,{className:"mr-auto"},l.a.createElement(f.a.Link,{href:"#home"},"Home"),l.a.createElement(f.a.Link,{href:"#users"},"Users")),l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(y.a,{variant:"info",onClick:function(){return r(!0)}},"Signin"),l.a.createElement(v.a,{show:t,onHide:function(){return r(!1)},animation:!0,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,null,"Modal heading")),l.a.createElement(v.a.Body,null,l.a.createElement(w.a.Group,{controlId:"formBasicUsername"},l.a.createElement(w.a.Control,{type:"text",placeholder:"Username",value:m,onChange:function(e){return i(e.target.value)}})),l.a.createElement(w.a.Group,{controlId:"formBasicPassword"},l.a.createElement(w.a.Control,{type:"password",placeholder:"Password",value:d,onChange:function(e){return b(e.target.value)}}))),l.a.createElement(v.a.Footer,null,l.a.createElement(y.a,{type:"button",variant:"primary",onClick:function(){r(!1),console.log(m),console.log(d),C()({method:"post",url:O+"/login",data:{username:m,password:d}}).then(function(e){200==e.status?(console.log(e.data.email),localStorage.setItem("loginemail",e.data.email),g.push("/#/home"),window.location.reload()):(g.push("/#/home"),window.location.reload())}).catch(function(e){console.log(e),g.push("/#/error"),window.location.reload()})}},"Go")))),l.a.createElement(h.a,null,l.a.createElement(y.a,{variant:"light",onClick:function(){localStorage.clear(),window.location.reload()}},"Signout"))))))}var x=function(e){function a(){return Object(m.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(j,null)}}]),a}(l.a.Component);function S(){return l.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement("h3",null,"Welcome ",localStorage.getItem("loginemail")))}var P=function(e){function a(){return Object(m.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S,null))}}]),a}(l.a.Component),I=t(31),k=t(45),B=t(124),G=t(125),L=t(69),N=t(126);function z(){var e="https://windows-pwa-express.azurewebsites.net/api/users",a=l.a.useState([]),t=Object(E.a)(a,2),n=t[0],r=t[1],o=l.a.useState({show:!1,activeModal:null}),c=Object(E.a)(o,2),m=c[0],i=c[1],s=function(){return i({show:!1,activeModal:null})};l.a.useEffect(function(){fetch(e).then(function(e){return e.json()}).then(function(e){r(e)})},[]);var u=l.a.useState({showdelete:!1,activedelete:null}),d=Object(E.a)(u,2),p=d[0],f=d[1],h=function(){return f({showdelete:!1,activedelete:null})};var b=l.a.useState({_id:"",email:"",password:"",first_name:"",country_name:"",city_name:"",state_name:""}),g=Object(E.a)(b,2),_=g[0],O=g[1],j=function(a){a.preventDefault(),console.log(_),console.log(e+"/edit/"+_._id),C()({method:"post",url:e+"/edit/"+_._id,data:{_id:_._id,email:_.email,password:_.password,first_name:_.first_name,country_name:_.country_name,city_name:_.city_name,state_name:_.state_name}}).then(function(e){200===e.status?(console.log("modify success"),window.location.reload()):(console.log("modify failed"),window.location.reload())}).catch(function(e){console.log(e),window.location.reload()})},x=function(e){console.log(e.target.value),O(Object(k.a)({},_,Object(I.a)({},e.target.name,e.target.value)))},S=l.a.useState(!1),P=Object(E.a)(S,2),z=P[0],D=P[1],H=function(){D(!0)},F=function(){D(!1)},M=l.a.useState({_id:"",email:"",password:"",first_name:"",country_name:"",city_name:"",state_name:""}),T=Object(E.a)(M,2),U=T[0],W=T[1],J=function(a){a.preventDefault(),console.log(U),C()({method:"POST",url:e+"/register",data:{email:U.email,password:U.password,first_name:U.first_name,country_name:U.country_name,city_name:U.city_name,state_name:U.state_name}}).then(function(e){200===e.status?(console.log("create success"),window.location.reload()):(console.log("create failed"),window.location.reload())}).catch(function(e){console.log(e)})},R=function(e){W(Object(k.a)({},U,Object(I.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(B.a,{"aria-label":"Basic example"},l.a.createElement(y.a,{size:"lg",variant:"success",onClick:H},"Create"),l.a.createElement(v.a,{show:z,onHide:F,animation:!0,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,null,"Details")),l.a.createElement(v.a.Body,null,l.a.createElement(w.a,{id:"createuser",onSubmit:J},l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextEmail"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"Email"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:"sample@sample.com",value:U.email,name:"email",onChange:R}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextPassword"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"Password"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"password",placeholder:"",value:U.password,name:"password",onChange:R}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextPassword"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"First Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:"",value:U.first_name,name:"first_name",onChange:R}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextPassword"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"Country Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:"",value:U.country_name,name:"country_name",onChange:R}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextPassword"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"City Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:"",value:U.city_name,name:"city_name",onChange:R}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextPassword"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"State Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:"",value:U.state_name,name:"state_name",onChange:R}))))),l.a.createElement(v.a.Footer,null,l.a.createElement(y.a,{form:"createuser",type:"submit",variant:"success"},"Submit"))))),l.a.createElement(N.a,{responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"First_name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Password"),l.a.createElement("th",null,"Country_name"),l.a.createElement("th",null,"city_name"),l.a.createElement("th",null,"state_name"),l.a.createElement("th",null,"company_address"),l.a.createElement("th",null,"Operations"))),l.a.createElement("tbody",null,n.map(function(a){return l.a.createElement("tr",{key:a._id},l.a.createElement("td",null,a.first_name),l.a.createElement("td",null,a.email),l.a.createElement("td",null,a.password),l.a.createElement("td",null,a.country_name),l.a.createElement("td",null,a.city_name),l.a.createElement("td",null,a.state_name),l.a.createElement("td",null,a.company_address),l.a.createElement("td",null,l.a.createElement(B.a,{"aria-label":"Basic example"},l.a.createElement(y.a,{size:"sm",variant:"primary",onClick:function(e){return t=a._id,i({show:!0,activeModal:t});var t}},"Modify"),l.a.createElement(v.a,{show:m.activeModal===a._id,onHide:s,animation:!0,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(v.a.Header,{closeButton:!0},l.a.createElement(v.a.Title,null,"Details")),l.a.createElement(v.a.Body,null,l.a.createElement(w.a,{id:"modifyuser",onSubmit:j},l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextId"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"ID"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:a._id,value:a._id,name:"_id",onChange:function(e){return x(e)}}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextEmail"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"Email"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:a.email,value:_.email,name:"email",onChange:function(e){return x(e)}}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextPassword"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"Password"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"password",placeholder:a.password,value:_.password,name:"password",onChange:function(e){return x(e)}}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextFirstName"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"First Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:a.first_name,value:_.first_name,name:"first_name",onChange:function(e){return x(e)}}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextCountry"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"Country Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:a.country_name,value:_.country_name,name:"country_name",onChange:function(e){return x(e)}}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextCity"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"City Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:a.city_name,value:_.city_name,name:"city_name",onChange:function(e){return x(e)}}))),l.a.createElement(w.a.Group,{as:G.a,controlId:"formPlaintextState"},l.a.createElement(w.a.Label,{column:!0,sm:"2"},"State Name"),l.a.createElement(L.a,{sm:"10"},l.a.createElement(w.a.Control,{type:"text",placeholder:a.state_name,value:_.state_name,name:"state_name",onChange:function(e){return x(e)}}))))),l.a.createElement(v.a.Footer,null,l.a.createElement(y.a,{form:"modifyuser",type:"submit",variant:"primary"},"Submit")))),l.a.createElement(B.a,null,l.a.createElement(y.a,{size:"sm",variant:"danger",onClick:function(e){return t=a._id,f({showdelete:!0,activedelete:t});var t}},"Delete"),l.a.createElement(v.a,{show:p.activedelete===a._id,onHide:h,animation:!0,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(v.a.Header,{variant:"danger",closeButton:!0,bg:"danger"},l.a.createElement(v.a.Title,null,"Sure to Delete?")),l.a.createElement(v.a.Body,null,l.a.createElement("p",null,"user email is: ",a.email)),l.a.createElement(v.a.Footer,null,l.a.createElement(y.a,{type:"button",variant:"danger",onClick:function(t){return n=a._id,console.log(n),console.log(e+"/delete/"+n),void C()({method:"post",url:e+"/delete/"+n,query:{Id:n}}).then(function(e){console.log(e),200===e.status?(console.log("delete success"),window.location.reload()):(console.log("delete failed"),window.location.reload())}).catch(function(e){console.log(e),window.location.reload()});var n}},"Delete"))))))}))))}var D=function(e){function a(){return Object(m.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement("h3",null,"Sorry, this site is for Admin only"))}}]),a}(l.a.Component),H=t(127);function F(){return localStorage.getItem("loginemail")?l.a.createElement(z,null):l.a.createElement(D,null)}var M=function(e){function a(){return Object(m.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(H.a,{fluid:!0},l.a.createElement(F,null))}}]),a}(n.Component);var T=function(){return l.a.createElement("div",null,l.a.createElement(x,null),l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/",component:P}),l.a.createElement(c.a,{path:"/home",component:P}),l.a.createElement(c.a,{path:"/users",component:M}),l.a.createElement(c.a,{path:"/error",component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(119);var U=t(44);o.a.render(l.a.createElement(U.a,{history:g},l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,a,t){e.exports=t(120)},77:function(e,a,t){},78:function(e,a,t){}},[[72,1,2]]]);
//# sourceMappingURL=main.9fdc5b06.chunk.js.map